# MCP Atlassian Bot –¥–ª—è Mattermost

–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –±–æ—Ç –¥–ª—è Mattermost, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å Jira –∏ Confluence —á–µ—Ä–µ–∑ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É—è –ª–æ–∫–∞–ª—å–Ω—É—é LLM –∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π MCP (Model Context Protocol) —Å–µ—Ä–≤–µ—Ä.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Å–∏—Å—Ç–µ–º—ã)
- [–ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã](#–ø—Ä–∏–Ω—Ü–∏–ø—ã-—Ä–∞–±–æ—Ç—ã)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
- [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
- [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫](#—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–Ω–µ–ø–æ–ª–∞–¥–æ–∫)

## üéØ –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

1. **Mattermost Bot** - –±–æ—Ç –¥–ª—è Mattermost, –∫–æ—Ç–æ—Ä—ã–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2. **MCP Server** - —Å–µ—Ä–≤–µ—Ä Model Context Protocol, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Jira –∏ Confluence

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **–õ–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è** - —Ä–∞–±–æ—Ç–∞ —Ç–æ–ª—å–∫–æ –≤ –ª–∏—á–Ω—ã—Ö —á–∞—Ç–∞—Ö –¥–ª—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ** - —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ
- ‚úÖ **–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** - –∫–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ —Å–≤–æ–∏–º–∏ —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LLM** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–π LLM –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ **–ö–æ–Ω—Ç–µ–∫—Å—Ç –±–µ—Å–µ–¥—ã** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 10 –æ–±–º–µ–Ω–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- ‚úÖ **–ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** - –ø–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Jira –ø–æ –∏–º–µ–Ω–∏, —Ñ–∞–º–∏–ª–∏–∏ –∏–ª–∏ email
- ‚úÖ **–ü–æ–∏—Å–∫ —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç** - –ø–æ–∏—Å–∫ –∏ –∞–Ω–∞–ª–∏–∑ worklogs –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏ –¥–∞—Ç–µ

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```mermaid
graph TB
    subgraph "Mattermost"
        User[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å]
        MM[Mattermost Server]
    end
    
    subgraph "Mattermost Bot"
        Bot[Mattermost Bot]
        WS[WebSocket Client]
        Handlers[Message Handlers]
        LLMClient[LLM Client]
        MCPClient[MCP Client]
        Storage[Storage<br/>SQLite + Encryption]
        AuthManager[Auth Manager]
    end
    
    subgraph "MCP Server"
        MCPServer[MCP Server<br/>FastMCP]
        JiraTools[Jira Tools]
        ConfluenceTools[Confluence Tools]
    end
    
    subgraph "External Services"
        LLM[Local LLM API]
        Jira[Jira API]
        Confluence[Confluence API]
    end
    
    User -->|–°–æ–æ–±—â–µ–Ω–∏–µ| MM
    MM -->|WebSocket| WS
    WS --> Bot
    Bot --> Handlers
    Handlers --> Storage
    Handlers --> AuthManager
    Handlers --> LLMClient
    Handlers --> MCPClient
    LLMClient --> LLM
    MCPClient -->|HTTP| MCPServer
    MCPServer --> JiraTools
    MCPServer --> ConfluenceTools
    JiraTools --> Jira
    ConfluenceTools --> Confluence
    Storage -->|–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ| Storage
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

```mermaid
classDiagram
    class MattermostBot {
        -Driver driver
        -Storage storage
        -AuthManager auth_manager
        -LLMClient llm_client
        -MCPClient mcp_client
        -MessageHandlers handlers
        +initialize()
        +start()
        +stop()
    }
    
    class MessageHandlers {
        -Storage storage
        -AuthManager auth_manager
        -LLMClient llm_client
        -MCPClient mcp_client
        -dict conversation_history
        +handle_message()
        +_handle_user_query()
    }
    
    class Storage {
        -Path db_path
        -Fernet cipher
        +save_user_credentials()
        +get_user_credentials()
        +has_jira_credentials()
    }
    
    class AuthManager {
        -Storage storage
        +validate_jira_credentials()
        +save_and_validate_both()
    }
    
    class LLMClient {
        -str api_url
        -str api_key
        -str model
        +chat()
        +format_mcp_tools_for_openai()
    }
    
    class MCPClient {
        -subprocess server_process
        -dict user_sessions
        +start_server()
        +list_tools()
        +call_tool()
    }
    
    MattermostBot --> MessageHandlers
    MattermostBot --> Storage
    MattermostBot --> AuthManager
    MattermostBot --> LLMClient
    MattermostBot --> MCPClient
    MessageHandlers --> Storage
    MessageHandlers --> AuthManager
    MessageHandlers --> LLMClient
    MessageHandlers --> MCPClient
    AuthManager --> Storage
```

## üîÑ –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã

### –ü–æ—Ç–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è

```mermaid
sequenceDiagram
    participant User as –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    participant MM as Mattermost
    participant Bot as Mattermost Bot
    participant Handler as Message Handler
    participant Storage as Storage
    participant Auth as Auth Manager
    participant LLM as LLM Client
    participant MCP as MCP Client
    participant MCPServer as MCP Server
    participant Jira as Jira API
    
    User->>MM: –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ
    MM->>Bot: WebSocket —Å–æ–±—ã—Ç–∏–µ "posted"
    Bot->>Handler: handle_message()
    
    alt –ù–µ—Ç —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
        Handler->>Storage: has_jira_credentials()
        Storage-->>Handler: false
        Handler->>User: –ó–∞–ø—Ä–æ—Å —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
        User->>Handler: –õ–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å
        Handler->>Auth: save_and_validate_both()
        Auth->>Jira: –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
        Jira-->>Auth: –£—Å–ø–µ—Ö/–û—à–∏–±–∫–∞
        Auth->>Storage: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ (—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ)
        Storage-->>Auth: OK
        Auth-->>Handler: –£—Å–ø–µ—Ö
    end
    
    Handler->>Storage: get_user_credentials()
    Storage-->>Handler: –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
    
    Handler->>MCP: list_tools(auth_headers)
    MCP->>MCPServer: HTTP –∑–∞–ø—Ä–æ—Å —Å Basic Auth
    MCPServer-->>MCP: –°–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
    MCP-->>Handler: –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
    
    Handler->>LLM: chat(messages, tools)
    LLM-->>Handler: –û—Ç–≤–µ—Ç —Å tool_calls
    
    loop –î–ª—è –∫–∞–∂–¥–æ–≥–æ tool_call
        Handler->>MCP: call_tool(name, args, auth_headers)
        MCP->>MCPServer: HTTP –∑–∞–ø—Ä–æ—Å
        MCPServer->>Jira: API –∑–∞–ø—Ä–æ—Å
        Jira-->>MCPServer: –î–∞–Ω–Ω—ã–µ
        MCPServer-->>MCP: –†–µ–∑—É–ª—å—Ç–∞—Ç
        MCP-->>Handler: –†–µ–∑—É–ª—å—Ç–∞—Ç
        Handler->>LLM: –†–µ–∑—É–ª—å—Ç–∞—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
        LLM-->>Handler: –°–ª–µ–¥—É—é—â–∏–π –æ—Ç–≤–µ—Ç
    end
    
    Handler->>Storage: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∏—Å—Ç–æ—Ä–∏—é
    Handler->>MM: –û—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
    MM->>User: –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –±–æ—Ç–∞
```

### –ü—Ä–æ—Ü–µ—Å—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

```mermaid
stateDiagram-v2
    [*] --> –ü—Ä–æ–≤–µ—Ä–∫–∞_—É—á–µ—Ç–Ω—ã—Ö_–¥–∞–Ω–Ω—ã—Ö
    
    –ü—Ä–æ–≤–µ—Ä–∫–∞_—É—á–µ—Ç–Ω—ã—Ö_–¥–∞–Ω–Ω—ã—Ö --> –ù–µ—Ç_–¥–∞–Ω–Ω—ã—Ö: –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç
    –ü—Ä–æ–≤–µ—Ä–∫–∞_—É—á–µ—Ç–Ω—ã—Ö_–¥–∞–Ω–Ω—ã—Ö --> –ï—Å—Ç—å_–¥–∞–Ω–Ω—ã–µ: –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –µ—Å—Ç—å
    
    –ù–µ—Ç_–¥–∞–Ω–Ω—ã—Ö --> –ó–∞–ø—Ä–æ—Å_–ª–æ–≥–∏–Ω–∞: –ù–∞—á–∞–ª–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
    –ó–∞–ø—Ä–æ—Å_–ª–æ–≥–∏–Ω–∞ --> –ó–∞–ø—Ä–æ—Å_–ø–∞—Ä–æ–ª—è: –ü–æ–ª—É—á–µ–Ω –ª–æ–≥–∏–Ω
    –ó–∞–ø—Ä–æ—Å_–ø–∞—Ä–æ–ª—è --> –í–∞–ª–∏–¥–∞—Ü–∏—è: –ü–æ–ª—É—á–µ–Ω –ø–∞—Ä–æ–ª—å
    
    –í–∞–ª–∏–¥–∞—Ü–∏—è --> –ü—Ä–æ–≤–µ—Ä–∫–∞_Jira: –í–∞–ª–∏–¥–∞—Ü–∏—è —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
    –ü—Ä–æ–≤–µ—Ä–∫–∞_Jira --> –ü—Ä–æ–≤–µ—Ä–∫–∞_Confluence: Jira OK
    –ü—Ä–æ–≤–µ—Ä–∫–∞_Jira --> –û—à–∏–±–∫–∞_Jira: Jira –æ—à–∏–±–∫–∞
    
    –ü—Ä–æ–≤–µ—Ä–∫–∞_Confluence --> –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ: Confluence OK (–∏–ª–∏ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
    –ü—Ä–æ–≤–µ—Ä–∫–∞_Confluence --> –û—à–∏–±–∫–∞_Confluence: Confluence –æ—à–∏–±–∫–∞
    
    –û—à–∏–±–∫–∞_Jira --> –ó–∞–ø—Ä–æ—Å_–ª–æ–≥–∏–Ω–∞: –ü–æ–≤—Ç–æ—Ä
    –û—à–∏–±–∫–∞_Confluence --> –ó–∞–ø—Ä–æ—Å_–ª–æ–≥–∏–Ω–∞: –ü–æ–≤—Ç–æ—Ä
    
    –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ --> –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ: –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
    –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ --> –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ_–≤_–ë–î: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ SQLite
    –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ_–≤_–ë–î --> –ï—Å—Ç—å_–¥–∞–Ω–Ω—ã–µ: –£—Å–ø–µ—Ö
    
    –ï—Å—Ç—å_–¥–∞–Ω–Ω—ã–µ --> –û–±—Ä–∞–±–æ—Ç–∫–∞_–∑–∞–ø—Ä–æ—Å–∞: –ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ
    –û–±—Ä–∞–±–æ—Ç–∫–∞_–∑–∞–ø—Ä–æ—Å–∞ --> [*]
```

### –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å MCP —Å–µ—Ä–≤–µ—Ä–æ–º

```mermaid
graph LR
    subgraph "Mattermost Bot Process"
        Handler[Message Handler]
        MCPClient[MCP Client]
    end
    
    subgraph "MCP Server Process"
        MCPServer[FastMCP Server<br/>Port 8000]
        JiraMixin[Jira Mixin]
        ConfluenceMixin[Confluence Mixin]
    end
    
    subgraph "Atlassian APIs"
        JiraAPI[Jira REST API]
        ConfluenceAPI[Confluence REST API]
    end
    
    Handler -->|1. list_tools| MCPClient
    MCPClient -->|HTTP POST<br/>Authorization: Basic| MCPServer
    MCPServer -->|2. list_tools| JiraMixin
    MCPServer -->|2. list_tools| ConfluenceMixin
    JiraMixin -->|3. call_tool| MCPServer
    ConfluenceMixin -->|3. call_tool| MCPServer
    MCPServer -->|HTTP Response| MCPClient
    MCPClient -->|4. –†–µ–∑—É–ª—å—Ç–∞—Ç| Handler
    
    Handler -->|5. call_tool| MCPClient
    MCPClient -->|HTTP POST<br/>Authorization: Basic| MCPServer
    MCPServer -->|6. jira_get_issue| JiraMixin
    JiraMixin -->|7. HTTP GET| JiraAPI
    JiraAPI -->|8. JSON Response| JiraMixin
    JiraMixin -->|9. –†–µ–∑—É–ª—å—Ç–∞—Ç| MCPServer
    MCPServer -->|HTTP Response| MCPClient
    MCPClient -->|10. –†–µ–∑—É–ª—å—Ç–∞—Ç| Handler
```

### –•—Ä–∞–Ω–µ–Ω–∏–µ –∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

```mermaid
graph TB
    subgraph "–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è"
        Start[–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞]
        CheckKey{–ö–ª—é—á<br/>—Å—É—â–µ—Å—Ç–≤—É–µ—Ç?}
        GenKey[–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–∞<br/>Fernet.generate_key]
        SaveKey[–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤<br/>.encryption_key]
        LoadKey[–ó–∞–≥—Ä—É–∑–∫–∞ –∫–ª—é—á–∞]
    end
    
    subgraph "–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ"
        PlainText[–ü–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è]
        KDF[PBKDF2HMAC<br/>SHA256, 100k –∏—Ç–µ—Ä–∞—Ü–∏–π]
        DeriveKey[–î–µ—Ä–∏–≤–∞—Ü–∏—è –∫–ª—é—á–∞<br/>32 –±–∞–π—Ç–∞]
        Fernet[Fernet Cipher]
        Encrypted[–ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç<br/>Base64]
    end
    
    subgraph "–•—Ä–∞–Ω–µ–Ω–∏–µ"
        SQLite[(SQLite Database<br/>bot_data.db)]
        Table[–¢–∞–±–ª–∏—Ü–∞ users:<br/>- mm_user_id<br/>- jira_username<br/>- jira_password_encrypted<br/>- confluence_username<br/>- confluence_password_encrypted]
    end
    
    Start --> CheckKey
    CheckKey -->|–ù–µ—Ç| GenKey
    CheckKey -->|–î–∞| LoadKey
    GenKey --> SaveKey
    SaveKey --> LoadKey
    LoadKey --> KDF
    
    PlainText --> Fernet
    KDF --> DeriveKey
    DeriveKey --> Fernet
    Fernet --> Encrypted
    Encrypted --> SQLite
    SQLite --> Table
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
uv sync --frozen --all-extras --dev
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```bash
cp .env.example .env
```

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
- `MATTERMOST_URL` - URL –≤–∞—à–µ–≥–æ Mattermost —Å–µ—Ä–≤–µ—Ä–∞
- `MATTERMOST_TOKEN` - –¢–æ–∫–µ–Ω –±–æ—Ç–∞ (—Å–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ –≤ Mattermost)
- `LLM_BASE_URL` - URL –ª–æ–∫–∞–ª—å–Ω–æ–π LLM (–Ω–∞–ø—Ä–∏–º–µ—Ä, https://llm.1bitai.ru)
- `LLM_PROXY_TOKEN` - –¢–æ–∫–µ–Ω –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ LLM API
- `LLM_MODEL` - –ù–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ LLM (–Ω–∞–ø—Ä–∏–º–µ—Ä, qwen3:14b)
- `JIRA_URL` - URL –≤–∞—à–µ–≥–æ Jira —Å–µ—Ä–≤–µ—Ä–∞
- `CONFLUENCE_URL` - URL –≤–∞—à–µ–≥–æ Confluence —Å–µ—Ä–≤–µ—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
- `PORT` - –ü–æ—Ä—Ç –¥–ª—è MCP —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 8000). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –¥–ª—è –ø—Ä—è–º–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ MCP —Å–µ—Ä–≤–µ—Ä–∞, —Ç–∞–∫ –∏ –¥–ª—è Mattermost –±–æ—Ç–∞
- `HOST` - –•–æ—Å—Ç –¥–ª—è MCP —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 0.0.0.0 –¥–ª—è –ø—Ä—è–º–æ–≥–æ –∑–∞–ø—É—Å–∫–∞, 127.0.0.1 –¥–ª—è –±–æ—Ç–∞). –î–ª—è Mattermost –±–æ—Ç–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 127.0.0.1

**–í–∞–∂–Ω–æ:** –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è Jira –∏ Confluence **–Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è**, —Ç–∞–∫ –∫–∞–∫ –∫–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ Mattermost, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è —Å–≤–æ–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏ —Å –±–æ—Ç–æ–º.

### 3. –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞ –≤ Mattermost

1. –í–æ–π–¥–∏—Ç–µ –≤ Mattermost –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings ‚Üí Integrations ‚Üí Bot Accounts**
3. –ù–∞–∂–º–∏—Ç–µ **Add Bot Account**
4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–æ—Ç–µ:
   - **Username**: –Ω–∞–ø—Ä–∏–º–µ—Ä, `jira-bot`
   - **Display Name**: –Ω–∞–ø—Ä–∏–º–µ—Ä, `Jira & Confluence Bot`
   - **Description**: –æ–ø–∏—Å–∞–Ω–∏–µ –±–æ—Ç–∞
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ **Access Token**
6. –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ `.env` —Ñ–∞–π–ª –∫–∞–∫ `MATTERMOST_TOKEN`

### 4. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–± (—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–æ–π –ø—Ä–æ—Ü–µ—Å—Å–æ–≤):**

```bash
./scripts/start_bot.sh
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç `start_bot.sh`:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–∞ `.env`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Å—Ç–∞—Ä—ã–µ/–∑–∞–≤–∏—Å—à–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –Ω–∞ –ø–æ—Ä—Ç—É 8000 (MCP —Å–µ—Ä–≤–µ—Ä)
- –ó–∞–≤–µ—Ä—à–∞–µ—Ç —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã `mcp-atlassian` –∏ `mattermost-bot`
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞ –≤ —á–∏—Å—Ç–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏

**–ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ:**

```bash
nohup ./scripts/start_bot.sh > bot.log 2>&1 &
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å–º. –≤ —Ñ–∞–π–ª–µ `.env.example`.

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è |
|-----------|----------|--------------|
| `MATTERMOST_URL` | URL Mattermost —Å–µ—Ä–≤–µ—Ä–∞ | –î–∞ |
| `MATTERMOST_TOKEN` | –¢–æ–∫–µ–Ω –±–æ—Ç–∞ Mattermost | –î–∞ |
| `LLM_BASE_URL` | URL –ª–æ–∫–∞–ª—å–Ω–æ–π LLM API | –î–∞ |
| `LLM_PROXY_TOKEN` | –¢–æ–∫–µ–Ω –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ LLM | –î–∞ |
| `LLM_MODEL` | –ù–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ LLM | –î–∞ |
| `JIRA_URL` | URL Jira —Å–µ—Ä–≤–µ—Ä–∞ | –î–∞ |
| `CONFLUENCE_URL` | URL Confluence —Å–µ—Ä–≤–µ—Ä–∞ | –ù–µ—Ç |
| `MATTERMOST_SSL_VERIFY` | –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ (true/false) | –ù–µ—Ç |
| `PORT` | –ü–æ—Ä—Ç –¥–ª—è MCP —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 8000) | –ù–µ—Ç |
| `HOST` | –•–æ—Å—Ç –¥–ª—è MCP —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 0.0.0.0 –¥–ª—è –ø—Ä—è–º–æ–≥–æ –∑–∞–ø—É—Å–∫–∞, 127.0.0.1 –¥–ª—è –±–æ—Ç–∞) | –ù–µ—Ç |

## üí¨ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü–µ—Ä–≤–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ª–∏—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –±–æ—Ç–æ–º –≤ Mattermost
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `/start` –∏–ª–∏ "–ø—Ä–∏–≤–µ—Ç")
3. –ë–æ—Ç –ø–æ–∫–∞–∂–µ—Ç —Å–ø—Ä–∞–≤–∫—É –∏ –Ω–∞—á–Ω–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–ë–æ—Ç –ø—Ä–æ–≤–µ–¥–µ—Ç –≤–∞—Å —á–µ—Ä–µ–∑ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

1. –í–≤–µ–¥–∏—Ç–µ –≤–∞—à –ª–æ–≥–∏–Ω –¥–ª—è Jira (–æ–Ω –∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è Confluence)
2. –í–≤–µ–¥–∏—Ç–µ –≤–∞—à –ø–∞—Ä–æ–ª—å (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è Jira –∏ Confluence)

**–í–∞–∂–Ω–æ:** –û–¥–∏–Ω –ø–∞—Ä–æ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–±–æ–∏–º —Å–µ—Ä–≤–∏—Å–∞–º (Jira –∏ Confluence). –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ.

### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

**–ü–æ–∏—Å–∫ –∏ –∞–Ω–∞–ª–∏–∑:**
- "–ü–æ–∫–∞–∂–∏ –º–æ–∏ –æ—Ç–∫—Ä—ã—Ç—ã–µ –∑–∞–¥–∞—á–∏ –≤ Jira"
- "–ù–∞–π–¥–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ–µ–∫—Ç–µ PROJ –≤ Confluence"
- "–ü–æ–∫–∞–∂–∏ –≤—Å–µ –∑–∞–¥–∞—á–∏, –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –Ω–∞ –º–µ–Ω—è"
- "–ù–∞ –∫–∞–∫–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç –°–µ—Ä–≥–µ–π –ñ—É—Ä–∞–≤–ª–µ–≤?"
- "–ö–∞–∫–∏–µ —É –û–ª–µ–≥–∞ –ê–Ω—Ç–æ–Ω–æ–≤–∞ —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã –∑–∞ 5 –¥–µ–∫–∞–±—Ä—è?"

**–°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- "–°–æ–∑–¥–∞–π –∑–∞–¥–∞—á—É –≤ Jira —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º '–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞'"
- "–û–±–Ω–æ–≤–∏ —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏ PROJ-123 –Ω–∞ '–í —Ä–∞–±–æ—Ç–µ'"
- "–î–æ–±–∞–≤—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–¥–∞—á–µ PROJ-123"

**–ö–æ–Ω—Ç–µ–∫—Å—Ç –±–µ—Å–µ–¥—ã:**
–ë–æ—Ç –ø–æ–º–Ω–∏—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–π –±–µ—Å–µ–¥—ã. –ù–∞–ø—Ä–∏–º–µ—Ä:
1. –í—ã: "–ü–æ–∫–∞–∂–∏ —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã –û–ª–µ–≥–∞ –ê–Ω—Ç–æ–Ω–æ–≤–∞ –∑–∞ 5 –¥–µ–∫–∞–±—Ä—è"
2. –ë–æ—Ç: –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
3. –í—ã: "–ê –∑–∞ 6 –¥–µ–∫–∞–±—Ä—è?" - –±–æ—Ç –ø–æ–π–º—ë—Ç, —á—Ç–æ —Ä–µ—á—å –æ —Ç–æ–º –∂–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ

### –ö–æ–º–∞–Ω–¥—ã

- `/help` –∏–ª–∏ `–ø–æ–º–æ—â—å` - –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É
- `/clear` –∏–ª–∏ `—Å–±—Ä–æ—Å` - –æ—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –±–µ—Å–µ–¥—ã

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π

```mermaid
graph LR
    A[–ü–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è] --> B[PBKDF2HMAC<br/>SHA256<br/>100,000 –∏—Ç–µ—Ä–∞—Ü–∏–π]
    B --> C[–î–µ—Ä–∏–≤–∞—Ü–∏—è –∫–ª—é—á–∞<br/>32 –±–∞–π—Ç–∞]
    C --> D[Fernet Cipher<br/>AES-128 –≤ CBC —Ä–µ–∂–∏–º–µ]
    D --> E[–ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç<br/>Base64]
    E --> F[SQLite Database]
    
    G[–ö–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è] --> H[.encryption_key<br/>chmod 600]
    H --> B
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ü–∞—Ä–æ–ª–∏ —à–∏—Ñ—Ä—É—é—Ç—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º AES-256 —á–µ—Ä–µ–∑ Fernet
- –ö–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–∞–π–ª–µ `.encryption_key`
- –§–∞–π–ª –∫–ª—é—á–∞ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ 600 (—Ç–æ–ª—å–∫–æ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PBKDF2 —Å 100,000 –∏—Ç–µ—Ä–∞—Ü–∏—è–º–∏ –¥–ª—è –¥–µ—Ä–∏–≤–∞—Ü–∏–∏ –∫–ª—é—á–∞

### –ò–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

- –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–æ —Å–≤–æ–∏–º–∏ —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- –î–∞–Ω–Ω—ã–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–ø–æ `mm_user_id`)
- MCP —Å–µ—Ä–≤–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç–¥–µ–ª—å–Ω–æ

### –õ–æ–∫–∞–ª—å–Ω–∞—è LLM

- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
- –î–∞–Ω–Ω—ã–µ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ –æ–±–ª–∞—á–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –≤–∞—à–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ Mattermost
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
- –ï—Å–ª–∏ –±–æ—Ç "–∑–∞–≤–∏—Å–∞–µ—Ç" –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `./scripts/start_bot.sh` - –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—Å—Ç–∏—Ç —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã

### –û—à–∏–±–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Jira/Confluence —Å–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω
- –î–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### –ü—Ä–æ–±–ª–µ–º—ã —Å LLM

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ LLM —Å–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É URL
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `LLM_BASE_URL` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `LLM_PROXY_TOKEN` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `LLM_MODEL` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ–π –º–æ–¥–µ–ª–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –ï—Å–ª–∏ LLM –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –≤ –ª–æ–≥–∞—Ö

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–∏—Å–∫–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–æ –∏–º–µ–Ω–∏, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å email
- –î–ª—è –ø–æ–∏—Å–∫–∞ —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç —Å–Ω–∞—á–∞–ª–∞ –Ω–∞–π–¥–∏—Ç–µ username —á–µ—Ä–µ–∑ `search_users`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–æ–µ–∫—Ç–∞–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–∏—Å–∫–æ–º —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –¥–∞—Ç–∞ —É–∫–∞–∑–∞–Ω–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ YYYY-MM-DD
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π username (–Ω–µ displayName)
- –î–ª—è –±–æ–ª—å—à–∏—Ö –ø–µ—Ä–∏–æ–¥–æ–≤ –ø–æ–∏—Å–∫ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –≤—Ä–µ–º—è - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä –ø–æ –ø—Ä–æ–µ–∫—Ç—É –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è
- –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–æ –º–∞–ª–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `worklogAuthor` JQL –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤–∞—à–µ–π –≤–µ—Ä—Å–∏–µ–π Jira

## üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### MCP —Å–µ—Ä–≤–µ—Ä

- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π MCP —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –±–æ—Ç–∞
- –ü–æ—Ä—Ç –∏ —Ö–æ—Å—Ç –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è `PORT` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 8000) –∏ `HOST` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 127.0.0.1 –¥–ª—è –±–æ—Ç–∞)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç `streamable-http` –¥–ª—è HTTP API
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç multi-user –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é —á–µ—Ä–µ–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∏ `Authorization`

### –ö–æ–Ω—Ç–µ–∫—Å—Ç –±–µ—Å–µ–¥—ã

- –ò—Å—Ç–æ—Ä–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ú–∞–∫—Å–∏–º—É–º 20 —Å–æ–æ–±—â–µ–Ω–∏–π (10 –æ–±–º–µ–Ω–æ–≤: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –±–æ—Ç)
- –ò—Å—Ç–æ—Ä–∏—è –æ—á–∏—â–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–æ–º–∞–Ω–¥–µ `/clear` –∏–ª–∏ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞

- –î–ª—è –ø–æ–∏—Å–∫–∞ worklogs –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JQL —Å `worklogAuthor` (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –õ–∏–º–∏—Ç —É–≤–µ–ª–∏—á–µ–Ω –¥–æ 1000 –¥–ª—è Server/DC

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–õ–æ–≥–∏ –±–æ—Ç–∞ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å. –î–ª—è —Ñ–æ–Ω–æ–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:

```bash
./scripts/start_bot.sh > bot.log 2>&1 &
tail -f bot.log  # –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤
```

–õ–æ–≥–∏ MCP —Å–µ—Ä–≤–µ—Ä–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `~/.mcp_atlassian_logs/`:
- `mcp_server_stdout.log` - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥
- `mcp_server_stderr.log` - –æ—à–∏–±–∫–∏

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–õ–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–æ –ø–æ–¥ MIT - —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE). –≠—Ç–æ –Ω–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç Atlassian.

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ú—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –≤–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç! –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –≤–Ω–µ—Å—Ç–∏ –≤–∫–ª–∞–¥:

1. –û–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å –Ω–∞—à–∏–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º [AGENTS.md](AGENTS.md) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π
2. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ pull request

–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º pre-commit —Ö—É–∫–∏ –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞ –∏ —Å–ª–µ–¥—É–µ–º —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–º—É –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—é –¥–ª—è —Ä–µ–ª–∏–∑–æ–≤.

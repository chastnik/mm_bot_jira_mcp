# ПРИМЕР КОНФИГУРАЦИИ MCP-ATLASSIAN
# -------------------------------------
# Скопируйте этот файл в .env и заполните своими данными.
# - Не используйте двойные кавычки для строковых значений в этом файле, если только само значение не содержит пробелов.

# =============================================
# ОБЯЗАТЕЛЬНЫЕ URL АТЛАССИАН ИНСТАНСОВ
# =============================================
# ОБЯЗАТЕЛЬНО: Замените на URL ваших инстансов Atlassian.
# Пример Cloud: https://your-company.atlassian.net
# Пример Server/DC: https://jira.your-internal-domain.com
JIRA_URL=https://your-company.atlassian.net
# Пример Cloud: https://your-company.atlassian.net/wiki
# Пример Server/DC: https://confluence.your-internal-domain.com
CONFLUENCE_URL=https://your-company.atlassian.net/wiki
# =============================================
# АУТЕНТИФИКАЦИЯ
# =============================================
#
# ВАЖНО: Для Mattermost бота глобальная аутентификация НЕ ТРЕБУЕТСЯ!
# Каждый пользователь авторизуется через Mattermost, предоставляя свои учетные данные
# (логин и пароль) при первом взаимодействии с ботом.
# Один логин и пароль используются для доступа к обоим сервисам (Jira и Confluence).
#
# Примечание: Если вы используете MCP сервер напрямую (без Mattermost бота),
# вам потребуется настроить аутентификацию через переменные окружения.
# См. документацию MCP Atlassian для подробностей.

# =============================================
# НАСТРОЙКИ ДЛЯ SERVER/DATA CENTER
# =============================================
# Применимо только если ваш JIRA_URL/CONFLUENCE_URL указывает на инстанс Server/DC (не *.atlassian.net).
# По умолчанию true. Установите false при использовании самоподписанных сертификатов (не рекомендуется для production окружений).
#JIRA_SSL_VERIFY=true
#CONFLUENCE_SSL_VERIFY=true


# =============================================
# ДОПОЛНИТЕЛЬНАЯ КОНФИГУРАЦИЯ
# =============================================

# --- Общие настройки сервера ---
# Режим транспорта для MCP сервера. По умолчанию 'stdio'.
# Варианты: stdio, sse
#TRANSPORT=stdio
# Порт для транспорта 'sse' или 'streamable-http'. По умолчанию 8000.
# Используется как для прямого запуска MCP сервера, так и для Mattermost бота.
#PORT=8000
# Хост для транспорта 'sse' или 'streamable-http'. По умолчанию '0.0.0.0' для прямого запуска MCP сервера.
# Для Mattermost бота рекомендуется использовать '127.0.0.1' (локальный доступ).
#HOST=0.0.0.0

# --- Режим только чтения ---
# Отключает все операции записи (создание, обновление, удаление). По умолчанию false.
#READ_ONLY_MODE=false

# --- Подробность логирования ---
# MCP_VERBOSE=true        # Включает логирование уровня INFO (эквивалентно 'mcp-atlassian -v')
# MCP_VERY_VERBOSE=true   # Включает логирование уровня DEBUG (эквивалентно 'mcp-atlassian -vv')
# MCP_LOGGING_STDOUT=true # Включает логирование в stdout (logging.StreamHandler по умолчанию использует stderr)
# Уровень логирования по умолчанию WARNING (минимальный вывод).

# --- Фильтрация инструментов ---
# Список названий инструментов через запятую для включения. Если не установлено, все инструменты включены
# (с учетом режима только чтения и настроенных сервисов).
# Пример: ENABLED_TOOLS=confluence_search,jira_get_issue
#ENABLED_TOOLS=

# --- Фильтрация контента ---
# Опционально: Список ключей пространств Confluence через запятую для ограничения поиска и других операций.
#CONFLUENCE_SPACES_FILTER=DEV,TEAM,DOC
# Опционально: Список ключей проектов Jira через запятую для ограничения поиска и других операций.
#JIRA_PROJECTS_FILTER=PROJ,DEVOPS

# --- Конфигурация прокси (Продвинутый) ---
# Глобальные настройки прокси (применяются к Jira и Confluence, если не переопределены настройками прокси для конкретного сервиса ниже).
#HTTP_PROXY=http://proxy.example.com:8080
#HTTPS_PROXY=https://user:pass@proxy.example.com:8443 # Учетные данные могут быть включены
#SOCKS_PROXY=socks5://proxy.example.com:1080 # Требуется установка 'requests[socks]'
#NO_PROXY=localhost,127.0.0.1,.internal.example.com # Список хостов/доменов через запятую для обхода прокси

# Настройки прокси для Jira (эти настройки переопределяют глобальные настройки прокси для запросов Jira).
#JIRA_HTTP_PROXY=http://jira-proxy.example.com:8080
#JIRA_HTTPS_PROXY=https://jira-proxy.example.com:8443
#JIRA_SOCKS_PROXY=socks5://jira-proxy.example.com:1080
#JIRA_NO_PROXY=localhost,127.0.0.1,.internal.jira.com

# Настройки прокси для Confluence (эти настройки переопределяют глобальные настройки прокси для запросов Confluence).
#CONFLUENCE_HTTP_PROXY=http://confluence-proxy.example.com:8080
#CONFLUENCE_HTTPS_PROXY=https://confluence-proxy.example.com:8443
#CONFLUENCE_SOCKS_PROXY=socks5://confluence-proxy.example.com:1080
#CONFLUENCE_NO_PROXY=localhost,127.0.0.1,.internal.confluence.com

# --- Пользовательские HTTP заголовки (Продвинутый) ---
# Пользовательские заголовки для Jira.
#JIRA_CUSTOM_HEADERS=X-Jira-Service=mcp-integration,X-Custom-Auth=jira-token,X-Forwarded-User=service-account

# Пользовательские заголовки для Confluence.
#CONFLUENCE_CUSTOM_HEADERS=X-Confluence-Service=mcp-integration,X-Custom-Auth=confluence-token,X-ALB-Token=secret-token

# =============================================
# КОНФИГУРАЦИЯ MATTERMOST БОТА
# ВАЖНО: Для Mattermost бота глобальная аутентификация Jira/Confluence НЕ ТРЕБУЕТСЯ!
# Каждый пользователь авторизуется через Mattermost, предоставляя свои учетные данные
# (логин и пароль) при первом взаимодействии с ботом.
# Один логин и пароль используются для доступа к обоим сервисам (Jira и Confluence).

# =============================================
# Конфигурация для интеграции Mattermost бота

# ОБЯЗАТЕЛЬНО: URL сервера Mattermost
# Пример: https://mattermost.your-company.com
MATTERMOST_URL=https://mattermost.your-company.com

# ОБЯЗАТЕЛЬНО: Токен бота Mattermost
# Создайте учетную запись бота в Mattermost и получите токен
# Настройки → Интеграции → Учетные записи ботов → Добавить учетную запись бота
MATTERMOST_TOKEN=your_mattermost_bot_token

# ОПЦИОНАЛЬНО: Название команды Mattermost (если бот должен быть ограничен конкретной командой)
#MATTERMOST_TEAM=your-team-name


# =============================================
# КОНФИГУРАЦИЯ LLM (LM Studio)
# =============================================
# Конфигурация для локальной LLM (LM Studio с OpenAI-совместимым API)

# ОБЯЗАТЕЛЬНО: URL API LLM (LLM_BASE_URL)
# Пример: https://llm.1bitai.ru
LLM_BASE_URL=http://localhost:1234/v1

# ОБЯЗАТЕЛЬНО: Токен для доступа к LLM API (LLM_PROXY_TOKEN)
#LLM_PROXY_TOKEN=your_llm_api_key

# ОПЦИОНАЛЬНО: Название модели LLM
# По умолчанию: local-model
LLM_MODEL=local-model

# =============================================
# БАЗА ДАННЫХ БОТА И БЕЗОПАСНОСТЬ
# =============================================
# Конфигурация для хранения данных бота

# ОПЦИОНАЛЬНО: Путь к файлу базы данных SQLite
# По умолчанию: bot_data.db (в текущей директории)
#DATABASE_PATH=bot_data.db

# ОПЦИОНАЛЬНО: Ключ шифрования для хранения паролей пользователей
# Если не установлено, ключ будет автоматически сгенерирован и сохранен в файле .encryption_key
# ВНИМАНИЕ: Храните этот ключ в безопасности! Если он будет потерян, зашифрованные пароли не могут быть восстановлены.
#ENCRYPTION_KEY=your_encryption_key_here
